<mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        GitHub Integration
        <mat-icon *ngIf="isConnected" style="color: green;">check_circle</mat-icon>
      </mat-panel-title>
      <mat-panel-description>
        {{ isConnected ? 'Connected on ' + (connectedAt | date:'medium') : 'Not connected' }}
      </mat-panel-description>
    </mat-expansion-panel-header>
  
    <div *ngIf="isConnected">
      <p>Connected as: {{ username }}</p>
      <button mat-raised-button color="warn" (click)="removeIntegration()">Remove Integration</button>
    </div>
    <button *ngIf="!isConnected" mat-raised-button color="primary" (click)="connectToGithub()">Connect to GitHub</button>
  </mat-expansion-panel>
  
  <div style="margin-top: 20px;">
    <mat-form-field appearance="fill">
      <mat-label>Active Integrations</mat-label>
      <mat-select value="github">
        <mat-option value="github">Github</mat-option>
      </mat-select>
    </mat-form-field>
  
    <mat-form-field appearance="fill">
      <mat-label>Entity</mat-label>
      <mat-select [(value)]="selectedCollection" (selectionChange)="onCollectionChange()">
        <mat-option *ngFor="let collection of collections" [value]="collection">
          {{ collection }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  
    <mat-form-field appearance="fill">
      <mat-label>Search</mat-label>
      <input matInput [(ngModel)]="searchText" (input)="onSearch()">
    </mat-form-field>
  
    <div *ngIf="!isBrowser" class="loading-placeholder">
      Loading data...
    </div>
    
    <ag-grid-angular
      *ngIf="isBrowser"
      style="width: 100%; height: 500px;"
      class="ag-theme-alpine"
      [columnDefs]="columnDefs"
      [rowData]="rowData"
      [pagination]="true"
      [paginationPageSize]="paginationPageSize"
      (paginationChanged)="onPageChange($event)">
    </ag-grid-angular>
  </div>